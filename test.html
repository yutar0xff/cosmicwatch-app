<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>CosmicWatch ã‚ªãƒ³ãƒ©ã‚¤ãƒ³æ©Ÿèƒ½ãƒ†ã‚¹ãƒˆ</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            max-width: 800px;
            margin: 0 auto;
            padding: 20px;
            line-height: 1.6;
        }
        
        .section {
            background: #f5f5f5;
            border-left: 4px solid #007bff;
            padding: 15px;
            margin: 20px 0;
        }
        
        .success {
            border-color: #28a745;
            background: #d4edda;
        }
        
        .warning {
            border-color: #ffc107;
            background: #fff3cd;
        }
        
        .error {
            border-color: #dc3545;
            background: #f8d7da;
        }

        input, textarea, button {
            width: 100%;
            padding: 8px;
            margin: 5px 0;
            border: 1px solid #ddd;
            border-radius: 4px;
        }

        button {
            background: #007bff;
            color: white;
            cursor: pointer;
        }

        button:hover {
            background: #0056b3;
        }

        button:disabled {
            background: #6c757d;
            cursor: not-allowed;
        }

        .status {
            padding: 10px;
            margin: 10px 0;
            border-radius: 4px;
            font-weight: bold;
        }

        .grid {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 10px;
        }
    </style>
</head>
<body>
    <h1>ğŸŒŒ CosmicWatch ã‚ªãƒ³ãƒ©ã‚¤ãƒ³æ©Ÿèƒ½ãƒ†ã‚¹ãƒˆ</h1>
    
    <div class="section">
        <h2>ğŸ“¡ ã‚ªãƒ³ãƒ©ã‚¤ãƒ³ä¿å­˜è¨­å®š</h2>
        <p>server-README.mdã®ä»•æ§˜ã«åŸºã¥ãå¤–éƒ¨ã‚µãƒ¼ãƒãƒ¼æ¥ç¶šãƒ†ã‚¹ãƒˆ</p>
    </div>

    <div class="section">
        <h3>ğŸ”§ ã‚µãƒ¼ãƒãƒ¼è¨­å®š</h3>
        <label>ã‚µãƒ¼ãƒãƒ¼URL:</label>
        <input type="text" id="baseUrl" value="http://accel-kitchen.com:3000" placeholder="http://accel-kitchen.com:3000">
        
        <div class="grid">
            <div>
                <label>ãƒ¦ãƒ¼ã‚¶ãƒ¼ID:</label>
                <input type="text" id="userId" placeholder="your_user_id">
            </div>
            <div>
                <label>ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰:</label>
                <input type="password" id="password" placeholder="password">
            </div>
        </div>

        <div class="grid">
            <div>
                <label>GPSç·¯åº¦:</label>
                <input type="text" id="gpsLatitude" value="35.6762" placeholder="35.6762">
            </div>
            <div>
                <label>GPSçµŒåº¦:</label>
                <input type="text" id="gpsLongitude" value="139.6503" placeholder="139.6503">
            </div>
        </div>

        <label>æ¸¬å®šã‚³ãƒ¡ãƒ³ãƒˆ:</label>
        <textarea id="comment" rows="2" placeholder="æ¸¬å®šå ´æ‰€ãƒ»ç›®çš„ãªã©">CosmicWatch ãƒ†ã‚¹ãƒˆæ¸¬å®š</textarea>
    </div>

    <div class="section">
        <h3>ğŸ” èªè¨¼ãƒ†ã‚¹ãƒˆ</h3>
        <button id="testLogin" onclick="testLogin()">ãƒ­ã‚°ã‚¤ãƒ³ãƒ†ã‚¹ãƒˆ</button>
        <button id="testRegister" onclick="testRegister()">ãƒ¦ãƒ¼ã‚¶ãƒ¼ç™»éŒ²ãƒ†ã‚¹ãƒˆ</button>
        <div id="authStatus" class="status"></div>
    </div>

    <div class="section">
        <h3>âš™ï¸ æ¸¬å®šã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—ãƒ†ã‚¹ãƒˆ</h3>
        <button id="testSetup" onclick="testSetup()" disabled>æ¸¬å®šã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—ãƒ†ã‚¹ãƒˆ</button>
        <div id="setupStatus" class="status"></div>
    </div>

    <div class="section">
        <h3>ğŸ“Š ãƒ‡ãƒ¼ã‚¿é€ä¿¡ãƒ†ã‚¹ãƒˆ</h3>
        <button id="testUpload" onclick="testDataUpload()" disabled>ãƒ‡ãƒ¼ã‚¿é€ä¿¡ãƒ†ã‚¹ãƒˆ</button>
        <button id="testBatch" onclick="testBatchUpload()" disabled>ãƒãƒƒãƒé€ä¿¡ãƒ†ã‚¹ãƒˆ</button>
        <div id="uploadStatus" class="status"></div>
    </div>

    <div class="section">
        <h3>ğŸ’¾ è¨­å®šæ°¸ç¶šåŒ–ãƒ†ã‚¹ãƒˆ</h3>
        <button onclick="testConfigSave()">è¨­å®šä¿å­˜ãƒ†ã‚¹ãƒˆ</button>
        <button onclick="testConfigLoad()">è¨­å®šèª­è¾¼ãƒ†ã‚¹ãƒˆ</button>
        <button onclick="testConfigClear()">è¨­å®šã‚¯ãƒªã‚¢ãƒ†ã‚¹ãƒˆ</button>
        <div id="configStatus" class="status"></div>
    </div>

    <div class="section">
        <h3>ğŸ“‹ ãƒ†ã‚¹ãƒˆçµæœãƒ­ã‚°</h3>
        <textarea id="logOutput" rows="10" readonly style="font-family: monospace; font-size: 12px;"></textarea>
        <button onclick="clearLog()">ãƒ­ã‚°ã‚¯ãƒªã‚¢</button>
    </div>

    <script>
        let authToken = null;
        let testService = null;

        // ç°¡æ˜“ç‰ˆOnlineDataServiceã‚¯ãƒ©ã‚¹ï¼ˆãƒ†ã‚¹ãƒˆç”¨ï¼‰
        class TestOnlineDataService {
            constructor(config) {
                this.config = config;
                this.authToken = null;
            }

            async login() {
                try {
                    const response = await fetch(`${this.config.baseUrl}/auth/login`, {
                        method: 'POST',
                        headers: { 'Content-Type': 'application/json' },
                        body: JSON.stringify({
                            id: this.config.userId,
                            password: this.config.password
                        }),
                        signal: AbortSignal.timeout(10000)
                    });

                    if (!response.ok) {
                        const errorData = await response.json().catch(() => ({}));
                        throw new Error(`Login failed: ${response.status} - ${errorData.message || 'Unknown error'}`);
                    }

                    const authData = await response.json();
                    this.authToken = authData.token;
                    return { success: true, data: authData };
                } catch (error) {
                    return { success: false, error: error.message };
                }
            }

            async register() {
                try {
                    const response = await fetch(`${this.config.baseUrl}/auth/register`, {
                        method: 'POST',
                        headers: { 'Content-Type': 'application/json' },
                        body: JSON.stringify({
                            id: this.config.userId,
                            password: this.config.password,
                            comment: this.config.comment || 'CosmicWatch App User',
                            gps_latitude: this.config.gpsLatitude || '35.6762',
                            gps_longitude: this.config.gpsLongitude || '139.6503'
                        }),
                        signal: AbortSignal.timeout(10000)
                    });

                    if (!response.ok) {
                        const errorData = await response.json().catch(() => ({}));
                        throw new Error(`Registration failed: ${response.status} - ${errorData.message || 'Unknown error'}`);
                    }

                    return { success: true, data: await response.json() };
                } catch (error) {
                    return { success: false, error: error.message };
                }
            }

            async setupMeasurement() {
                if (!this.authToken) {
                    throw new Error('Not authenticated');
                }

                try {
                    const setupData = {
                        id: this.config.userId,
                        comment: this.config.comment || 'CosmicWatch measurement',
                        gps_latitude: this.config.gpsLatitude || '35.6762',
                        gps_longitude: this.config.gpsLongitude || '139.6503',
                        created_at: new Date().toISOString()
                    };

                    const response = await fetch(`${this.config.baseUrl}/setup-id`, {
                        method: 'POST',
                        headers: {
                            'Content-Type': 'application/json',
                            'Authorization': `Bearer ${this.authToken}`
                        },
                        body: JSON.stringify(setupData),
                        signal: AbortSignal.timeout(10000)
                    });

                    if (!response.ok) {
                        const errorData = await response.json().catch(() => ({}));
                        throw new Error(`Setup failed: ${response.status} - ${errorData.message || 'Unknown error'}`);
                    }

                    return { success: true, data: await response.json() };
                } catch (error) {
                    return { success: false, error: error.message };
                }
            }

            async uploadData(data) {
                if (!this.authToken) {
                    throw new Error('Not authenticated');
                }

                try {
                    const response = await fetch(`${this.config.baseUrl}/upload-data/${this.config.userId}`, {
                        method: 'POST',
                        headers: {
                            'Content-Type': 'application/json',
                            'Authorization': `Bearer ${this.authToken}`
                        },
                        body: JSON.stringify(data),
                        signal: AbortSignal.timeout(5000)
                    });

                    if (!response.ok) {
                        throw new Error(`Upload failed: ${response.status}`);
                    }

                    return { success: true };
                } catch (error) {
                    return { success: false, error: error.message };
                }
            }
        }

        function log(message) {
            const timestamp = new Date().toLocaleTimeString();
            const logOutput = document.getElementById('logOutput');
            logOutput.value += `[${timestamp}] ${message}\n`;
            logOutput.scrollTop = logOutput.scrollHeight;
            console.log(message);
        }

        function setStatus(elementId, message, type = 'info') {
            const element = document.getElementById(elementId);
            element.textContent = message;
            element.className = `status ${type}`;
        }

        function getConfig() {
            return {
                baseUrl: document.getElementById('baseUrl').value.trim(),
                userId: document.getElementById('userId').value.trim(),
                password: document.getElementById('password').value,
                gpsLatitude: document.getElementById('gpsLatitude').value.trim(),
                gpsLongitude: document.getElementById('gpsLongitude').value.trim(),
                comment: document.getElementById('comment').value.trim()
            };
        }

        function validateConfig(config) {
            const errors = [];
            if (!config.baseUrl) errors.push('ã‚µãƒ¼ãƒãƒ¼URLã¯å¿…é ˆã§ã™');
            if (!config.userId) errors.push('ãƒ¦ãƒ¼ã‚¶ãƒ¼IDã¯å¿…é ˆã§ã™');
            if (!config.password) errors.push('ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰ã¯å¿…é ˆã§ã™');
            return errors;
        }

        async function testLogin() {
            const config = getConfig();
            const errors = validateConfig(config);
            
            if (errors.length > 0) {
                setStatus('authStatus', `è¨­å®šã‚¨ãƒ©ãƒ¼: ${errors.join(', ')}`, 'error');
                log(`âŒ ãƒ­ã‚°ã‚¤ãƒ³ãƒ†ã‚¹ãƒˆå¤±æ•—: ${errors.join(', ')}`);
                return;
            }

            setStatus('authStatus', 'ãƒ­ã‚°ã‚¤ãƒ³ä¸­...', 'warning');
            log(`ğŸ” ãƒ­ã‚°ã‚¤ãƒ³ãƒ†ã‚¹ãƒˆé–‹å§‹: ${config.baseUrl} (${config.userId})`);

            testService = new TestOnlineDataService(config);
            const result = await testService.login();

            if (result.success) {
                setStatus('authStatus', 'âœ… ãƒ­ã‚°ã‚¤ãƒ³æˆåŠŸï¼', 'success');
                log(`âœ… ãƒ­ã‚°ã‚¤ãƒ³æˆåŠŸ: ${JSON.stringify(result.data, null, 2)}`);
                authToken = testService.authToken;
                
                // æˆåŠŸæ™‚ã«æ¸¬å®šã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—ãƒœã‚¿ãƒ³ã‚’æœ‰åŠ¹åŒ–
                document.getElementById('testSetup').disabled = false;
                document.getElementById('testUpload').disabled = false;
                document.getElementById('testBatch').disabled = false;
            } else {
                setStatus('authStatus', `âŒ ãƒ­ã‚°ã‚¤ãƒ³å¤±æ•—: ${result.error}`, 'error');
                log(`âŒ ãƒ­ã‚°ã‚¤ãƒ³å¤±æ•—: ${result.error}`);
            }
        }

        async function testRegister() {
            const config = getConfig();
            const errors = validateConfig(config);
            
            if (errors.length > 0) {
                setStatus('authStatus', `è¨­å®šã‚¨ãƒ©ãƒ¼: ${errors.join(', ')}`, 'error');
                log(`âŒ ç™»éŒ²ãƒ†ã‚¹ãƒˆå¤±æ•—: ${errors.join(', ')}`);
                return;
            }

            setStatus('authStatus', 'ãƒ¦ãƒ¼ã‚¶ãƒ¼ç™»éŒ²ä¸­...', 'warning');
            log(`ğŸ‘¤ ãƒ¦ãƒ¼ã‚¶ãƒ¼ç™»éŒ²ãƒ†ã‚¹ãƒˆé–‹å§‹: ${config.userId}`);

            testService = new TestOnlineDataService(config);
            const result = await testService.register();

            if (result.success) {
                setStatus('authStatus', 'âœ… ãƒ¦ãƒ¼ã‚¶ãƒ¼ç™»éŒ²æˆåŠŸï¼', 'success');
                log(`âœ… ãƒ¦ãƒ¼ã‚¶ãƒ¼ç™»éŒ²æˆåŠŸ: ${JSON.stringify(result.data, null, 2)}`);
                
                // ç™»éŒ²å¾Œã«è‡ªå‹•ãƒ­ã‚°ã‚¤ãƒ³
                setTimeout(testLogin, 1000);
            } else {
                setStatus('authStatus', `âŒ ãƒ¦ãƒ¼ã‚¶ãƒ¼ç™»éŒ²å¤±æ•—: ${result.error}`, 'error');
                log(`âŒ ãƒ¦ãƒ¼ã‚¶ãƒ¼ç™»éŒ²å¤±æ•—: ${result.error}`);
            }
        }

        async function testSetup() {
            if (!testService || !testService.authToken) {
                setStatus('setupStatus', 'âŒ å…ˆã«ãƒ­ã‚°ã‚¤ãƒ³ã—ã¦ãã ã•ã„', 'error');
                return;
            }

            setStatus('setupStatus', 'æ¸¬å®šã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—ä¸­...', 'warning');
            log(`âš™ï¸ æ¸¬å®šã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—ãƒ†ã‚¹ãƒˆé–‹å§‹`);

            const result = await testService.setupMeasurement();

            if (result.success) {
                setStatus('setupStatus', 'âœ… æ¸¬å®šã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—æˆåŠŸï¼', 'success');
                log(`âœ… æ¸¬å®šã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—æˆåŠŸ`);
            } else {
                setStatus('setupStatus', `âŒ æ¸¬å®šã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—å¤±æ•—: ${result.error}`, 'error');
                log(`âŒ æ¸¬å®šã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—å¤±æ•—: ${result.error}`);
            }
        }

        async function testDataUpload() {
            if (!testService || !testService.authToken) {
                setStatus('uploadStatus', 'âŒ å…ˆã«ãƒ­ã‚°ã‚¤ãƒ³ã—ã¦ãã ã•ã„', 'error');
                return;
            }

            setStatus('uploadStatus', 'ãƒ‡ãƒ¼ã‚¿é€ä¿¡ä¸­...', 'warning');
            log(`ğŸ“Š ãƒ‡ãƒ¼ã‚¿é€ä¿¡ãƒ†ã‚¹ãƒˆé–‹å§‹`);

            // ã‚µãƒ³ãƒ—ãƒ«å®‡å®™ç·šãƒ‡ãƒ¼ã‚¿
            const testData = {
                timestamp: formatTimestampForServer(new Date()),
                adc: '1024',
                vol: '3.3',
                deadtime: '100'
            };

            const result = await testService.uploadData(testData);

            if (result.success) {
                setStatus('uploadStatus', 'âœ… ãƒ‡ãƒ¼ã‚¿é€ä¿¡æˆåŠŸï¼', 'success');
                log(`âœ… ãƒ‡ãƒ¼ã‚¿é€ä¿¡æˆåŠŸ: ${JSON.stringify(testData, null, 2)}`);
            } else {
                setStatus('uploadStatus', `âŒ ãƒ‡ãƒ¼ã‚¿é€ä¿¡å¤±æ•—: ${result.error}`, 'error');
                log(`âŒ ãƒ‡ãƒ¼ã‚¿é€ä¿¡å¤±æ•—: ${result.error}`);
            }
        }

        async function testBatchUpload() {
            if (!testService || !testService.authToken) {
                setStatus('uploadStatus', 'âŒ å…ˆã«ãƒ­ã‚°ã‚¤ãƒ³ã—ã¦ãã ã•ã„', 'error');
                return;
            }

            setStatus('uploadStatus', 'ãƒãƒƒãƒãƒ‡ãƒ¼ã‚¿é€ä¿¡ä¸­...', 'warning');
            log(`ğŸ“Š ãƒãƒƒãƒé€ä¿¡ãƒ†ã‚¹ãƒˆé–‹å§‹`);

            // ã‚µãƒ³ãƒ—ãƒ«ãƒ‡ãƒ¼ã‚¿ã‚’5ã¤ä½œæˆ
            const testDataBatch = [];
            for (let i = 0; i < 5; i++) {
                testDataBatch.push({
                    timestamp: formatTimestampForServer(new Date(Date.now() + i * 1000)),
                    adc: String(1000 + Math.floor(Math.random() * 100)),
                    vol: String(3.0 + Math.random() * 0.5),
                    deadtime: String(90 + Math.floor(Math.random() * 20))
                });
            }

            let successCount = 0;
            let failCount = 0;

            for (const data of testDataBatch) {
                const result = await testService.uploadData(data);
                if (result.success) {
                    successCount++;
                } else {
                    failCount++;
                    log(`âŒ ãƒãƒƒãƒã‚¢ã‚¤ãƒ†ãƒ å¤±æ•—: ${result.error}`);
                }
                // å°‘ã—å¾…æ©Ÿ
                await new Promise(resolve => setTimeout(resolve, 100));
            }

            if (failCount === 0) {
                setStatus('uploadStatus', `âœ… ãƒãƒƒãƒé€ä¿¡æˆåŠŸï¼ (${successCount}/${testDataBatch.length})`, 'success');
                log(`âœ… ãƒãƒƒãƒé€ä¿¡æˆåŠŸ: ${successCount}ä»¶é€ä¿¡å®Œäº†`);
            } else {
                setStatus('uploadStatus', `âš ï¸ ãƒãƒƒãƒé€ä¿¡éƒ¨åˆ†æˆåŠŸ: ${successCount}æˆåŠŸ/${failCount}å¤±æ•—`, 'warning');
                log(`âš ï¸ ãƒãƒƒãƒé€ä¿¡éƒ¨åˆ†æˆåŠŸ: ${successCount}æˆåŠŸ, ${failCount}å¤±æ•—`);
            }
        }

        function formatTimestampForServer(date) {
            const year = date.getFullYear();
            const month = String(date.getMonth() + 1).padStart(2, '0');
            const day = String(date.getDate()).padStart(2, '0');
            const hours = String(date.getHours()).padStart(2, '0');
            const minutes = String(date.getMinutes()).padStart(2, '0');
            const seconds = String(date.getSeconds()).padStart(2, '0');
            const microseconds = String(date.getMilliseconds() * 1000).padStart(6, '0');

            return `${year}-${month}-${day}-${hours}-${minutes}-${seconds}.${microseconds}`;
        }

        function testConfigSave() {
            const config = getConfig();
            try {
                localStorage.setItem('cosmicwatch_test_config', JSON.stringify({
                    version: '1.0',
                    config: config,
                    isEnabled: true,
                    savedAt: new Date().toISOString()
                }));
                setStatus('configStatus', 'âœ… è¨­å®šä¿å­˜æˆåŠŸï¼', 'success');
                log(`ğŸ’¾ è¨­å®šä¿å­˜æˆåŠŸ`);
            } catch (error) {
                setStatus('configStatus', `âŒ è¨­å®šä¿å­˜å¤±æ•—: ${error.message}`, 'error');
                log(`âŒ è¨­å®šä¿å­˜å¤±æ•—: ${error.message}`);
            }
        }

        function testConfigLoad() {
            try {
                const stored = localStorage.getItem('cosmicwatch_test_config');
                if (!stored) {
                    setStatus('configStatus', 'âš ï¸ ä¿å­˜ã•ã‚ŒãŸè¨­å®šãŒè¦‹ã¤ã‹ã‚Šã¾ã›ã‚“', 'warning');
                    log(`âš ï¸ ä¿å­˜ã•ã‚ŒãŸè¨­å®šãªã—`);
                    return;
                }

                const data = JSON.parse(stored);
                const config = data.config;

                // UIã«è¨­å®šã‚’å¾©å…ƒ
                document.getElementById('baseUrl').value = config.baseUrl || '';
                document.getElementById('userId').value = config.userId || '';
                document.getElementById('password').value = config.password || '';
                document.getElementById('gpsLatitude').value = config.gpsLatitude || '';
                document.getElementById('gpsLongitude').value = config.gpsLongitude || '';
                document.getElementById('comment').value = config.comment || '';

                setStatus('configStatus', 'âœ… è¨­å®šèª­è¾¼æˆåŠŸï¼', 'success');
                log(`ğŸ“‚ è¨­å®šèª­è¾¼æˆåŠŸ: ä¿å­˜æ—¥æ™‚ ${data.savedAt}`);
            } catch (error) {
                setStatus('configStatus', `âŒ è¨­å®šèª­è¾¼å¤±æ•—: ${error.message}`, 'error');
                log(`âŒ è¨­å®šèª­è¾¼å¤±æ•—: ${error.message}`);
            }
        }

        function testConfigClear() {
            try {
                localStorage.removeItem('cosmicwatch_test_config');
                setStatus('configStatus', 'âœ… è¨­å®šã‚¯ãƒªã‚¢å®Œäº†ï¼', 'success');
                log(`ğŸ—‘ï¸ è¨­å®šã‚¯ãƒªã‚¢å®Œäº†`);
            } catch (error) {
                setStatus('configStatus', `âŒ è¨­å®šã‚¯ãƒªã‚¢å¤±æ•—: ${error.message}`, 'error');
                log(`âŒ è¨­å®šã‚¯ãƒªã‚¢å¤±æ•—: ${error.message}`);
            }
        }

        function clearLog() {
            document.getElementById('logOutput').value = '';
        }

        // åˆæœŸåŒ–
        window.onload = function() {
            log('ğŸŒŒ CosmicWatch ã‚ªãƒ³ãƒ©ã‚¤ãƒ³æ©Ÿèƒ½ãƒ†ã‚¹ãƒˆãƒšãƒ¼ã‚¸åˆæœŸåŒ–å®Œäº†');
            log('ğŸ“– server-README.mdã®APIä»•æ§˜ã«åŸºã¥ãæ©Ÿèƒ½ãƒ†ã‚¹ãƒˆ');
            log('â„¹ï¸ ä½¿ç”¨æ–¹æ³•:');
            log('  1. ã‚µãƒ¼ãƒãƒ¼è¨­å®šã‚’å…¥åŠ›');
            log('  2. ãƒ¦ãƒ¼ã‚¶ãƒ¼ç™»éŒ²ã¾ãŸã¯ãƒ­ã‚°ã‚¤ãƒ³');
            log('  3. æ¸¬å®šã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—');
            log('  4. ãƒ‡ãƒ¼ã‚¿é€ä¿¡ãƒ†ã‚¹ãƒˆ');
            log('');

            // ä¿å­˜ã•ã‚ŒãŸè¨­å®šãŒã‚ã‚Œã°èª­ã¿è¾¼ã¿
            if (localStorage.getItem('cosmicwatch_test_config')) {
                testConfigLoad();
                log('ğŸ’¾ å‰å›ä¿å­˜ã•ã‚ŒãŸè¨­å®šã‚’è‡ªå‹•èª­ã¿è¾¼ã¿ã—ã¾ã—ãŸ');
            }
        };
    </script>
</body>
</html>